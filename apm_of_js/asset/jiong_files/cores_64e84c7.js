;define("common:widget/ui/arch/router",function(e){function t(e){this.rules=[],this.model=e,this._actions={},this.currentAction=null,this._ruleKeys={};var t=this;this._modelUpdateHandler=function(e){if(e&&e.keys&&e.keys.length){for(var n=e.keys,r=!1,i=n.length-1;i>=0;i--)if(t._ruleKeys[n[i]]){r=!0;break}r&&t.dispatch()}},e.addEventListener("changed",this._modelUpdateHandler)}var n=e("common:widget/ui/base/base");return n.extend(t.prototype,{addRule:function(e,t){this.rules.push({rule:e,action:t}),this._recordRuleKeys([e])},addRules:function(e){e&&e.length&&(this.rules=this.rules.concat(e),this._recordRuleKeys(e))},_recordRuleKeys:function(e){if(e)for(var t,n=e.length-1;n>=0;n--){t=e[n];for(var r in t)t.hasOwnProperty(r)&&(this._ruleKeys[r]=!0)}},loadAction:function(t){var r=new n.Deferred,i=this,s=this._actions[t];return s?r.resolve(s):e.async(t,function(e){s="function"==typeof e?new e(i.model):e,i._actions[t]=s,r.resolve(s)}),r},checkRule:function(e){if(e){var t=!0,n=this.model;for(var r in e)if(e.hasOwnProperty(r)&&(t=n.get(r)==e[r],!t))break;return t}return!1},dispatch:function(){for(var e,t=this.rules,n=this.model,r=0;r<t.length;r++)if(e=t[r],this.checkRule(e.rule)){this.loadAction(e.action).then(function(t){t&&t!=this.currentAction&&(this.currentAction=t,t.process(n,e.rule))});break}}}),t});
;define("common:widget/ui/arch/app",function(t){function i(t){this.pageModel=t,this.router=new n(t),this.isReady=!1,this._readyFunc=[]}var e=t("common:widget/ui/base/base"),n=t("common:widget/ui/arch/router");return e.extend(i.prototype,{init:function(){this.isReady=!0;for(var t;t=this._readyFunc.shift();)t&&t()},setRoute:function(t){this.pageModel.set(t)},run:function(){this.router.dispatch()},ready:function(t){this.isReady?t&&t():this._readyFunc.push(t)}}),i});
;define("common:widget/ui/base/EventDispatcher",function(){var e=function(){this.__listeners={}};e.prototype={dispatchEvent:function(e,t){t=t||{},t.type||(t.type=e),t.target||(t.target=this),this.__listeners||(this.__listeners={});var n,i=this.__listeners[e],s=[];if(i){for(var r=0,o=i.length;o>r;r++)n=i[r],n?(s=n.args.slice(0),s.unshift(t),n.fn.apply(n.owner,s)):(i.splice(r--,1),o--);return!0}return!1},addEventListeners:function(e,t,n){if("object"==typeof e)for(var i in e)"function"==typeof e[i]&&this.addEventListener(i,e[i],t,n);return this},addEventListener:function(e,t,n,i){return n=n||this,i=i||[],this.__listeners||(this.__listeners={}),this.__listeners[e]instanceof Array||(this.__listeners[e]=[]),this.__listeners[e].push({fn:t,owner:n,args:i}),this},removeEventListener:function(e,t){var n,i=this.__listeners[e]||[];if(!i||"function"!=typeof t)return this.__listeners[e]=[],this;for(var s=0;s<i.length;s++)n=i[s],n&&n.fn===t&&(i[s]=null);return this},removeEventListeners:function(e){if(e&&"object"==typeof e)for(var t in e)this.removeEventListener(t,e[t]);else this.__listeners={}},dispose:function(){var e;this.dispatchEvent("disposing");for(e in this)delete this[e]||(this.name=null)}};var t=new e;return e.eventCenter=t,e});
;define("common:widget/ui/base/events",function(i){var n=i("common:widget/ui/base/base"),e=i("common:widget/ui/base/EventDispatcher"),t="__bdimg__events",d="__bdimg__",o=1e6,s=function(){return"bdimg"+o++},r=function(){for(var i,n=0,e=window[t].length;e>n;n++)i=window[t][n],window[d][i]&&window[d][i].dispose(),window[d][i]=null},w=n.extend({},e.prototype,{addEventListener:function(){var i=Array.prototype.slice.call(arguments);e.prototype.addEventListener.apply(this,i),this._guid||(this._guid=s(),window[d][this._guid]=this,window[t].push(this._guid))},bindEvents:function(i,n){var e,t;if(n)for(e in n)n.hasOwnProperty(e)&&(t=n[e],this[t]&&i.addEventListener(e,this[t]))}});return w.on=w.addEventListener,w.un=w.removeEventListener,w.fire=w.dispatchEvent,w.trigger=w.dispatchEvent,n(window).unload(r),window[d]={},window[t]=[],w});
;define("common:widget/ui/arch/behavior/pageresizer",function(i){var t=i("common:widget/ui/base/base"),e=i("common:widget/ui/base/events"),n={_timer:null,_isInit:!1,_isRunning:!1,_lastNotifyTime:-1,tick:200,duration:400,curWidth:-1,curHeight:-1,init:function(i){var e=t.extend({tick:200,duration:400,resizeHeight:!0},i);return this._isInit?this:(this.resizeHeight=e.resizeHeight,t.browser.msie&&t.browser.version<=8&&(this._resizeing=this.resizing,this.resizing=this.resizingIE7),this.tick=e.tick,this.duration=e.duration,this._isInit=!0,this)},isInited:function(){return this._isInit},start:function(){this._isRunning||(t(window).bind("resize",this.resizing),this._isRunning=!0)},stop:function(){t(window).unbind("resize",this.resizing),this._isRunning=!1},resizingIE7:function(){var i=t(window).width(),e=t(window).height();-1===n.curWidth&&(n.curWidth=i,n.curHeight=e),this.resizeHeight||n.curWidth==i?!this.resizeHeight||n.curWidth==i&&n.curHeight==e||(n.curWidth=i,n.curHeight=e,n._resizeing()):(n.curWidth=i,n._resizeing())},resizing:function(){var i=new Date;n._timer?(clearTimeout(n._timer),n._timer=setTimeout(n.resizeFinished,n.tick),-1!=n._lastNotifyTime&&i-n._lastNotifyTime>=n.duration&&n.notifyReszing(i)):(n.dispatchEvent("resizeBegin"),n._timer=setTimeout(n.resizeFinished,n.tick),n._lastNotifyTime=i)},resizeFinished:function(){n.notifyReszing(),n.dispatchEvent("resizeEnd"),n._lastNotifyTime=-1,n._timer=null},notifyReszing:function(i){this._lastNotifyTime=i,this.dispatchEvent("resizing")}};return t.extend(n,e),n});
;define("common:widget/ui/arch/localdb",function(n){function t(){this.leftKey="",this.opMethod="equal",this.right="",this.rightIsKey=!1}function e(n){this.list=n}function r(n,e){var r=new t,i=n.lastIndexOf(" "),a="";return i>0?(r.leftKey=n.substr(0,i),a=u.trim(n.substr(i+1))):r.leftKey=n,r.opMethod=o[a||"="],"string"==typeof e&&e.length>2&&"`"==e.substr(0,1)&&"`"==e.substr(e.length-1)?(r.right=e.substr(1,e.length-2),r.rightIsKey=!0):(r.right=e,r.rightIsKey=!1),r}function i(n){function e(n){if(n){for(var t,e=n.length-1;e>=0;e--)t=n[e],v.unshift(u.isArray(t)?t:[String(t)]);y.length&&r()}}function r(){_={};for(var n,t=0,e=y.length;e>t;t++)n=y[t],o(x[n],n)}function i(n,t){var e=n&&n[p];return"undefined"==typeof e||x[e]?!1:(n.__idx_=t,x[e]=n,y[t]=e,o(n,e),!0)}function o(n,t){for(var e,r,i,u,o,l=n.__idx_,s=v.length-1;s>=0;s--)e=v[s],i=e.join(","),r=_[i],r||(r=_[i]={}),u=f(r,e,n,!0),!u.length||x[u[u.length-1]].__idx_<l?u.push(t):x[u[0]].__idx_<l?u.unshift(t):(o=a(u,l),o.replace?u[o.index]=t:u.splice(o.index,0,t))}function a(n,t){for(var e,r=n.length-1;r>=0;r--){if(e=x[n[r]].__idx_,e==t)return{index:r,replace:!0};if(t>e)return{index:r+1,replace:!1}}return{index:0,replace:!1}}function f(n,t,e,r){for(var i,u,o,a=0,f=t.length;f>a;a++){if(i=t[a],u=e[i],o=n[u],!o){if(!r)return null;o=n[u]=a==f-1?[]:{}}n=o}return o}function l(n){if(u.isArray(n))return n;var t=[];for(var e in n)n.hasOwnProperty(e)&&(t=t.concat(l(n[e])));return t}function s(n){for(var t,e=[],r=n.length-1;r>=0;r--)t=x[n[r]],"undefined"!=typeof t&&e.unshift(t);return e}function h(n,e,r,i){var u,o=t.parse(e),a=0,f=n.length,l=[],s=-1;for(i=i||f,r=r||0;f>a&&l.length<i;)u=x[n[a]],o.check(u)&&(s+=1,s>=r&&l.push(u)),a+=1;return l}function c(n){if(n[p])return[p];for(var t,e,r=0,i=v.length;i>r;r++){t=v[r],e=!0;for(var u=0,o=t.length;o>u;u++)if("undefined"==typeof n[t[u]]){e=!1;break}if(e)return t}return!1}function g(n,t,e){n=u.extend({},n);var r,i=c(n);if(i){if(i[0]==p){var o=n[p];r=[o]}else{var a=_[i.join(",")];dataSet=f(a,i,n,!1),r=l(dataSet)}u(i).each(function(t,e){delete n[e]})}else r=y;var g;if(u.isEmptyObject(n)){var d=t||e?r.slice(t,t+e):r;g=s(d)}else g=h(r,n,t,e);return{result:g,usedIndex:i}}n=n||{};var d=this,p=n.primaryKey||"id",v=[],y=[],x={},_={};e(n.indexes),d.modify=function(n,t){t&&(y=[],x={},_={}),p=n.primaryKey||p,e(n.indexes)},d.select=function(n,t,e){var r=g(n,t,e);return r.result},d.insert=function(){d.insertAt(y.length,arguments)},d.insertAt=function(n,t){for(var e=0,r=0,u=t.length;u>r;r++)i(t[r],n+r)&&e++;return e},d.update=function(){},d.remove=function(){}}var u=n("common:widget/ui/base/base"),o={"=":"equal","===":"allEqual","!=":"notEqual","!==":"notAllEqual",">":"greaterThan",">=":"greaterEqual","<":"lessThan","<=":"lessEqual","in":"inRange"};return u.extend(t.prototype,{check:function(n){if(!this.opMethod&&!n)return!1;var e=n[this.leftKey],r=this.rightIsKey?n[this.right]:this.right;return t.prototype[this.opMethod].call(this,e,r)},equal:function(n,t){return n==t},allEqual:function(n,t){return n===t},notEqual:function(n,t){return n!=t},notAllEqual:function(n,t){return n!==t},greaterThan:function(n,t){return n>t},greaterEqual:function(n,t){return n>=t},lessThan:function(n,t){return t>n},lessEqual:function(n,t){return t>=n},inRange:function(n,t){return u.isArray(t)&&u.inArray(n,t)}}),u.extend(e.prototype,{check:function(n){for(var t=this.list,e=t.length-1;e>=0;e--)if(!t[e].check(n))return!1;return!0}}),t.parse=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(r(i,n[i]));return t.length>1?new e(t):t[0]},i});
;define("common:widget/ui/arch/collection",function(e){function t(e,t){var n=this,a=t;n.dataProxy=e,n.getCache=function(e){return!a&&e&&(a=new o),a},n.configCache=function(e,t){a?a.modify(e,!!t):a=new o(e)}}var n=e("common:widget/ui/base/base"),a=e("common:widget/ui/base/events"),o=e("common:widget/ui/arch/localdb");return n.extend(t.prototype,a,{get:function(e,t,a){t=1*(t||0),a=1*(a||0);var o,r=new n.Deferred,i=this.getCache(),c=this.dataProxy,f=this;return i&&(o=i.select(e,t,a)),o&&o.length&&o.length>=(a||0)?r.resolve(o):c?(c.fetch(e,t,a,o).then(function(n){n.dataSet&&n.dataSet.length&&("undefined"==typeof n.offset||n.offset===!1?f.put.apply(f,n.dataSet):f.putAt(n.dataSet,n.offset),o=i.select(e,t,a)),r.resolve(o)},function(){r.reject({msg:"fetch data from dataProxy error"})}),r):r.resolve(o)},putAt:function(e,t){var n=this.getCache(!0);n.insertAt(t,e)},put:function(){var e=this.getCache(!0);e.insert.apply(e,arguments)}}),t.create=function(e,a){var r=e.pk,i=e.indexes,c=new o({primaryKey:r,indexes:i}),f=new t(e.dataProxy,c);return a&&n.extend(f,a),f},t});
;define("common:widget/ui/arch/handlers",function(e){function t(e){this.handlers={},this.context=e}var n=e("common:widget/ui/base/base");return n.extend(t.prototype,{get:function(e,t){var n=this.handlers[e];return n||(n=this.handlers[e]=this._create(e,t)),n},_create:function(e,t){var n=this;return function(){if(!n[e])throw new Error("call undefined method:"+e);return n[e].apply(t||n.context||n,arguments)}},extend:function(e){return n.extend(this,e)}}),t.create=function(e){var r=new t;return n.extend(r,e),r},t});
;define("common:widget/ui/events/events",function(i){var n=i("common:widget/ui/base/base"),e=i("common:widget/ui/base/EventDispatcher"),t="__bdimg__events",d="__bdimg__",o=1e6,s=function(){return"bdimg"+o++},w=function(){for(var i,n=0,e=window[t].length;e>n;n++)i=window[t][n],window[d][i]&&window[d][i].dispose(),window[d][i]=null},r=n.extend({},e.prototype);return r._addEventListener=r.addEventListener,r.addEventListener=function(){var i=Array.prototype.slice.call(arguments);this._addEventListener.apply(this,i),this._guid||(this._guid=s(),window[d][this._guid]=this,window[t].push(this._guid))},r.bindEvents=function(i,n){var e,t;if(n)for(e in n)n.hasOwnProperty(e)&&(t=n[e],this[t]&&i.addEventListener(e,this[t]))},n(window).unload(w),window[d]={},window[t]=[],r});
;define("common:widget/ui/utils/scroller",function(i){var t=i("common:widget/ui/base/base"),n=i("common:widget/ui/events/events"),s={_timer:null,_isInit:!1,_lastNotifyTime:-1,_lastCheckTime:-1,_scrollTop:0,_isRunning:!1,tick:0,duration:0,init:function(i){var n=t.extend({tick:200,duration:400},i);return this._isInit?this:(this.tick=n.tick,this.duration=n.duration,this._isInit=!0,this)},isInited:function(){return this._isInit},start:function(){this._isRunning||(t(window).bind("scroll",this.scrolling),this._isRunning=!0)},stop:function(){t(window).unbind("scroll",this.scrolling),this._isRunning=!1},scrolling:function(){var i=new Date;s._timer?(-1!=s._lastCheckTime&&i-s._lastCheckTime>=s.tick/2&&(clearTimeout(s._timer),s._timer=setTimeout(s.scrollFinished,s.tick),s._lastCheckTime=i),-1!=s._lastNotifyTime&&i-s._lastNotifyTime>=s.duration&&s.notifyScrolling(i)):(s.dispatchEvent("scrollBegin"),s._timer=setTimeout(s.scrollFinished,s.tick),s._lastNotifyTime=i,s._lastCheckTime=i)},scrollFinished:function(){s.notifyScrolling(),s.emit("scrollEnd"),s._lastNotifyTime=-1,s._timer=null},notifyScrolling:function(i){this.emit("scrolling"),this._lastNotifyTime=i},emit:function(i){var n=t(window).scrollTop();this.dispatchEvent(i,{scrollTop:n,scrollingDown:n>this._scrollTop}),this._scrollTop=n}};return t.extend(s,n),s});
;define("common:widget/ui/utils/pageresizer",function(i){var t=i("common:widget/ui/base/base"),n=i("common:widget/ui/events/events"),e={_timer:null,_isInit:!1,_isRunning:!1,_lastNotifyTime:-1,tick:200,duration:400,curWidth:-1,curHeight:-1,init:function(i){var n=t.extend({tick:200,duration:400},i);return this._isInit?this:(t.browser.msie&&t.browser.version<8&&(this._resizeing=this.resizing,this.resizing=this.resizingIE7),this.tick=n.tick,this.duration=n.duration,this._isInit=!0,this)},isInited:function(){return this._isInit},start:function(){this._isRunning||(t(window).bind("resize",this.resizing),this._isRunning=!0)},stop:function(){t(window).unbind("resize",this.resizing),this._isRunning=!1},resizingIE7:function(){var i=t(window).width(),n=t(window).height();(e.curWidth!=i||e.curHeight!=n)&&(e.curWidth=i,e.curHeight=n,e._resizeing())},resizing:function(){var i=new Date;e._timer?(clearTimeout(e._timer),e._timer=setTimeout(e.resizeFinished,e.tick),-1!=e._lastNotifyTime&&i-e._lastNotifyTime>=e.duration&&e.notifyReszing(i)):(e.dispatchEvent("resizeBegin"),e._timer=setTimeout(e.resizeFinished,e.tick),e._lastNotifyTime=i)},resizeFinished:function(){e.notifyReszing(),e.dispatchEvent("resizeEnd"),e._lastNotifyTime=-1,e._timer=null},notifyReszing:function(i){this._lastNotifyTime=i,this.dispatchEvent("resizing")}};return t.extend(e,n),e});
;define("common:widget/ui/utils/utils",function(e,t,n){var i=e("common:widget/ui/base/base"),o=Object.prototype.toString,c={tryDecodeURIComponent:function(e){try{return decodeURIComponent(e)}catch(t){return e}},escapeHTML:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},escapeXSS:function(e){return e.replace(/[<>]/g,function(e){return encodeURIComponent(e)}).replace(/"/g,"%22").replace(/'/g,"%27")},encodeJsonForQuery:function(e){var t=e instanceof Array?[]:{},n=/^(?:string|boolean|number)/i;for(var r in e)e.hasOwnProperty(r)&&n.test(typeof e[r])&&(t[r]=encodeURIComponent(this.tryDecodeURIComponent(e[r])));return t},decodeJsonForQuery:function(e){var t=e instanceof Array?[]:{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=this.tryDecodeURIComponent(e[n]));return t},jsonToQuery:function(e){var t=[];e=e||{};var n=/^(?:string|boolean|number)/i;for(var r in e)e.hasOwnProperty(r)&&n.test(typeof e[r])&&t.push(r+"="+e[r]);return t.join("&")},queryToJson:function(e,t){for(var n,r,i,o,c=t===!0?e:e.substr(e.lastIndexOf("?")+1),u=c.split("&"),a=u.length,l={},s=0;a>s;s++)u[s]&&(o=u[s].split("="),n=o[0],r=o[1],i=l[n],"undefined"==typeof i?l[n]=r:this.isArray(i)?i.push(r):l[n]=[i,r]);return l},getQueryValue:function(e,t){t=t||window.location.href;var n=new RegExp("(^|&|\\?|#)"+String(e).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")+"=([^&#]*)(&|$|#)",""),r=t.match(n);return r?r[2]:null},format:function(e,t){e=String(e);var n=Array.prototype.slice.call(arguments,1),r=Object.prototype.toString;return n.length?(n=1==n.length&&null!==t&&/\[object Array\]|\[object Object\]/.test(r.call(t))?t:n,e.replace(/#\{(.+?)\}/g,function(e,t){var i=n[t];return"[object Function]"==r.call(i)&&(i=i(t)),"undefined"==typeof i?"":i})):e},throttle:function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}},trimTags:function(e,t){var n="";return t&&t.length&&(n=function(e,n){return i.inArray(n,t)<0?"":e}),String(e).replace(/<\/?([^>]*)>/g,n)},formatTags:function(e){return i("<div>"+String(e).replace(/<\/?div>/g,"")+"</div>").html()},cutHtmlText:function(e,t,n,r){var i=this.trimTags(e);if(i.length>t){t-=r||String(n).length;var o=[],c=0,u=!1;if(e.replace(/<\/?[^>]*>/g,function(e,n){if(!u){var r={tagStr:e,index:n-c};o.push(r),c+=e.length,u=r.index>=t}return e}),i=i.substr(0,t),o.length)for(var a,l=o.length-1;l>=0;l--)a=o[l],i=i.substr(0,a.index)+a.tagStr+i.substr(a.index);e=this.formatTags(i)+n}return e},capitalize:function(e){return e=String(e),e.substr(0,1).toUpperCase()+e.substr(1)},isArray:function(e){return"[object Array]"===o.call(e)},getByteLength:function(e){return String(e).replace(/[^\x00-\xff]/g,"ci").length},encodeURL:function(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},encodeHTML:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},getSampleId:function(e){e=e||i.cookie("BAIDUID")||"";var t=0;e=e.replace(":FG=1",""),e+=":FG=1";for(var n=0;n<e.length;n++)t=31*t+e.charCodeAt(n),t%=4294967296;var r=t%101;return r},isPicUrl:function(e){if(e){if(e=i.trim(String(e)),e.split(" ").length>1)return!1;for(var t=[/^https?:\/(\/[^?\/]+)+\/[^?\/]+\.(jpg|gif|png|bmp)$/i,/^https?:\/\/(img\d\.imgtn\.bdimg|t\d+\.baidu)\.com\/it\/u=\d+,\d+&fm=\d+(&gp=\d)?$/i,/^https?:\/\/[^?\/]+baidu[^?\/]+\/timg\?.+&src=.+/i],n=0,r=t.length;r>n;n++)if(e.match(t[n]))return!0}return!1}};c.delay=function(e,t,n,i){t=t||0;var o=function(){e.apply(n,i||[])};return r=setTimeout(o,t),{cancel:function(){clearTimeout(r)}}},c.fmqValueSet=function(){var e=new Date;return function(){var t=c.queryToJson(c.escapeXSS(window.location.search.substring(1))),n=e.getTime();if("undefined"==typeof t.fmq&&(t.fmq=""),void 0==t.fmq||""==t.fmq)t.fmq=n+"_R";else if(t.fmq.indexOf("m")>-1&&-1==t.fmq.indexOf("_m")&&-1==t.fmq.indexOf("_R")){var r=t.fmq;t.fmq=n+"_"+r+"_R"}else if(-1==t.fmq.indexOf("_R")){var r=t.fmq;t.fmq=r+"_R"}return t.fmq}}(),c.httpsTimg=function(e){if(/^https:\/\//i.test(e.imgUrl))return e.imgUrl;var t="https://timgsa.baidu.com",n="wisetimgkey_noexpire_3f60e7362b8c23871c7564327a31d9d7",r=e.imgUrl,o=e.size||"b10000_10000",c=e.quality||80,u=e.imgType||"jpg",a=(new Date).getTime()+1008e4,l=n+a+r,s=i.hex_md5(l);return"https:"==location.protocol?t+"/timg?image&quality="+c+"&size="+o+"&sec="+a+"&di="+s+"&imgtype="+u+"&src="+encodeURIComponent(r):e.imgUrl},c.ihttpsAgent=function(e){return"https:"==location.protocol?window.Ihttps_agent_config&&window.Ihttps_agent_config[e]:e},c.UI={pageHeight:function(){var e=document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight)},pageWidth:function(){var e=document;return Math.max(e.body.scrollWidth,e.documentElement.scrollWidth)},clientWidth:function(){var e=document,t="BackCompat"==e.compatMode?e.body:e.documentElement;return t.clientWidth},clientHeight:function(){var e=document,t="BackCompat"==e.compatMode?e.body:e.documentElement;return t.clientHeight},windowHeight:function(){var e=document.documentElement;return self.innerHeight||e&&e.clientHeight||document.body.clientHeight},windowWidth:function(){var e=document.documentElement;return self.innerWidth||e&&e.clientWidth||document.body.clientWidth},screenWidth:function(){return window.screen.width},screenHeight:function(){return window.screen.height},scrollY:function(e){var t=document.documentElement;if(e){var n=e.parentNode,r=e.scrollTop||0;return e==t&&(r=UI.scrollY()),n?r+UI.scrollY(n):r}return self.pageYOffset||t&&t.scrollTop||document.body.scrollTop},getCssDigitValue:function(e,t){var n=e.css(t);return n?1*n.replace("px",""):0},getCssDigitValueSum:function(e,t){for(var n=0,r=t.length-1;r>=0;r--)n+=this.getCssDigitValue(e,t[r]);return n},isSupportCss3:function(e,t,n){t=t||document.body;var r=t.style;if("undefined"!=typeof r[e])return!0;if(!n){var o=!1;return e=c.capitalize(e),i(["webkit","moz","ms","o"]).each(function(t,n){return"undefined"!=typeof r[n+e]?(o=!0,!1):void 0}),o}return!1}},c.scroller=e("common:widget/ui/utils/scroller"),c.pageResizer=e("common:widget/ui/utils/pageresizer"),n.exports=c});
;define("common:widget/ui/arch/history",function(t){function e(){this._popState=!1,this._useHash=!1,this._updating=!1,this.supportPushState=!!window.history.pushState}var o=t("common:widget/ui/base/base"),i=t("common:widget/ui/utils/utils"),n=t("common:widget/ui/base/events");return o.extend(e.prototype,n,{init:function(){this.supportPushState?o(window).bind("popstate",this._popStateHandler.bind(this)):(this._updateState=this._updateState4NotSupportPopState,"onhashchange"in window&&(this._useHash=!0,o(window).bind("hashchange",this._hashChangeHandler.bind(this)))),this._popState=!1},forward:function(t){if(!this._popState){this._updating=!0,this._updateState(t);var e=this;setTimeout(function(){e._updating=!1})}},_updateState:function(t){window.history.pushState(t,"",window.location.pathname+"?"+this._encodeQuery(t))},_updateState4NotSupportPopState:function(t){window.location.href="#"+this._encodeHash(t)},_encodeQuery:function(t){return i.jsonToQuery(i.encodeJsonForQuery(t))},_encodeHash:function(t){return i.jsonToQuery(i.encodeJsonForQuery(t))},_decodeHash:function(t){return i.decodeJsonForQuery(i.queryToJson(t))},_popStateHandler:function(t){var e=t.originalEvent.state;this._popState=!0,this.dispatchEvent("popstate",{state:e}),this._popState=!1},_hashChangeHandler:function(){if(!this._updating){var t=window.location.hash,e=t?this._decodeHash(t.substr(1)):{};this._popState=!0,this.dispatchEvent("popstate",{state:e}),this._popState=!1}}}),e});
;define("common:widget/ui/arch/model",function(t){function e(t){this.data=null,this.reset(t)}var n=t("common:widget/ui/base/base");return n.extend(e.prototype,{reset:function(t){this.data=n.extend({},t)},getAll:function(){return this.data},set:function(t,e){var i=[];if(n.isPlainObject(t))for(var a in t)t.hasOwnProperty(a)&&(e=t[a],this.data[a]!=e&&i.push(a),this.data[a]=e);else t=String(t),this.data[t]!=e&&i.push(t),this.data[t]=e;return i},get:function(t){return this.data[t]}}),e});
;define("common:widget/ui/arch/pagemodel",function(t){function e(){this.uri={query:null,hash:null,path:""},this.tempData=new s,s.apply(this,arguments),this.load()}var i=t("common:widget/ui/base/base"),n=t("common:widget/ui/utils/utils"),r=t("common:widget/ui/base/events"),s=t("common:widget/ui/arch/model");return i.extend(e.prototype,s.prototype,r,{load:function(){var t=window.location,e=t.search;this.uri.query=new s(e?n.queryToJson(e.substr(1)):{});var i=t.hash;i&&(i=i.substr(1)),this.uri.hash=new s(this.parseHash(i)),this.uri.path=t.pathname},parseHash:function(t){return{0:t}},get:function(t){if(t=String(t),t.indexOf(".")>0){var e=t.split(".");if("uri"==e[0]&&"undefined"!=typeof this.uri[e[1]]){if("path"==e[1])return this.uri.path;if(e.length>2)return this.uri[e[1]].get(e[2])}}return s.prototype.get.call(this,t)},set:function(t,e){var i=s.prototype.set.call(this,t,e);i&&i.length&&this.dispatchEvent("changed",{keys:i})}}),e});
;define("common:widget/ui/base/subject",function(e){var r=(e("common:widget/ui/base/base"),{observers:[],addObserver:function(e,r){return this.observers.push({ob:e,func:r}),this},removeObserver:function(e){for(var r=this.observers,s=r.length-1;s>=0;s--)r[s].ob==e&&r.splice(s,1);return this},notify:function(){for(var e,r=this.observers,s=0;s<r.length;s++)e=r[s],this._callObserver(e.ob,e.func)},_callObserver:function(e,r){"string"==typeof r&&(r=e[r]),r.call(e)}});return r});
;define("common:widget/ui/EventEmitter/EventEmitter",function(t,e,i){var n=t("common:widget/ui/base/base"),r=function(){this._listeners={}};n.extend(r.prototype,{on:function(t,e,i){return t=n.trim(t),this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push({callback:e,context:i||window}),this},un:function(t,e){t=n.trim(t);var i=this._listeners[t];if(i)for(var r=0,s=i.length;s>r;r++)if(i[r].callback===e){i.splice(r,1);break}return this},trigger:function(t,e){t=n.trim(t);var i=this._listeners[t];if(i){e=e||{};for(var r,s=0,o=i.length;o>s;s++)r=i[s],"function"==typeof r.callback&&r.callback.call(r.context,e)}return this}}),window.EventEmitter=i.exports=r,r.eventCenter=new r});
;define("common:widget/ui/monitorRequest/monitorRequest",function(e,t,n){n.exports=function(){var e=(new Date).getTime();return function(t){var n=window["__log__"+(new Date).getTime()]=document.createElement("img"),i="",o=(new Date).getTime();i="lsTime="+(o-e),e=o;var m=t.replace("webclick.baidu.com","imgstat.baidu.com");return n.src=m+"&"+i+"&"+new Date*Math.random(),n.src}}()});
;define("common:widget/ui/searchUtils/searchUtils",function(e,r,n){var t=e("common:widget/ui/base/base"),a=n.exports={};a.escapeXSS=function(e){return e.replace(/[<>]/g,function(e){return encodeURIComponent(e)}).replace(/"/g,"%22").replace(/'/g,"%27")},a.escapeHTML=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var f=new Date;a.fmqDetailValueSet=function(){var e=a.getSearchConf(),r=f.getTime();if(void 0==e.fmq||""==e.fmq)e.fmq=r+"_D";else if(e.fmq.indexOf("m")>-1&&-1==e.fmq.indexOf("_m")&&-1==e.fmq.indexOf("_D")){var n=e.fmq;e.fmq=r+"_"+n+"_D"}else if(-1==e.fmq.indexOf("_D")){var n=e.fmq;e.fmq=n+"_D"}return e.fmq},a.query2Json=function(e){if(null==e||"string"!=typeof e)return e;for(var r={},n=e.split("&"),t=0,a=n.length;a>t;t++){var f=n[t].split("=");r[f[0]]=f[1]}return r};var i;a.getSearchConf=function(){return i?i:i=a.query2Json(a.escapeXSS(window.location.search.substring(1)))},a.getHashConf=function(){var e=t.trim(location.href.split("#")[1]||"");e=e?e.split("&"):[];for(var r=0,n=e.length;n>r;r++)e[r]=a.escapeHTML(o(e[r]));return e},a.getHashConfObj=function(e){var r={pn:"int",id:"string",objURL:"string",fromURL:"string",W:"int",H:"int",TP:"string",di:"string"};if("object"==typeof e)for(var n in e)r[n]=e[n];var t,f={};for(n in r)t=a.getHashConfValue(n,r[n]),f[n]=t;return f},a.getHashConfValue=function(e,r){e=e||0;var n=a.getHashConf();if("number"==typeof e&&!isNaN(e))return a.toVarType(n[e],r);for(var t="",f=0,i=n.length;i>f;f++)if(n[f]&&0===n[f].indexOf(e)){t=n[f].replace(new RegExp("^"+e),"");break}return a.toVarType(t,r)};var o=function(e){try{return decodeURIComponent(e)}catch(r){return e}};a.decodeURIComponent=o,a.toVarType=function(e,r){switch(r=r||"string"){case"int":return parseInt(e,10);case"float":return parseFloat(e);case"number":return tmp=parseFloat(e),isNaN(tmp)&&(tmp=0),tmp;case"boolean":return!!e;case"array":return t.makeArray(e);default:return String(e)}};var u=function(e){var r=a.getSearchConf(),n=new Date,t=n.getTime();if(void 0==r.fmq)e.fmq.value=t+"_R";else if(r.fmq.indexOf("m")>-1&&-1==r.fmq.indexOf("_m")&&-1==r.fmq.indexOf("_R")){var f=r.fmq;e.fmq.value=t+"_"+f+"_R"}else e.fmq.value=t+"_R";return e.fm.value=void 0==r.fr||""==r.fr?"detail":r.fr,!0},c={w:"a",k:"b",v:"c",1:"d",j:"e",u:"f",2:"g",i:"h",t:"i",3:"j",h:"k",s:"l",4:"m",g:"n",5:"o",r:"p",q:"q",6:"r",f:"s",p:"t",7:"u",e:"v",o:"w",8:"1",d:"2",n:"3",9:"4",c:"5",m:"6",0:"7",b:"8",l:"9",a:"0",_z2C$q:":","_z&e3B":".",AzdH3F:"/"},s=/([a-w\d])/g,m=/(_z2C\$q|_z&e3B|AzdH3F)/g;a.uncompile=function(e){var r=e.replace(m,function(e,r){return c[r]});return r.replace(s,function(e,r){return c[r]})},a.uncompileURL=function(e){return/^(http|https)/.test(e)?e:a.uncompile(e)},a.f_submit=u,window.f_submit=u});
;define("common:widget/ui/slider/slider",function(t,i,s){function e(t,i,s,e){var n=this;this.$el=t,this.$cnt,this.$slideCnt,this.duration=e.duration,this.isCycle=e.isCycle,this.curIdx=0,this.slideWidth=this.$el.width(),this.slidesNum=i.length,this.autoAnimateInterval=e.autoAnimateInterval||5e3,this.autoTurning=s,this.isAutoWidth=e.isAutoWidth,this._leftBtnClickHandler=function(t){t.preventDefault(),n.turnLeft()},this._rightBtnClickHandler=function(t){t.preventDefault(),n.turnRight()},this._animationFinish=function(){n.isAnimating=!1},this._autoTurning=function(){n._timer=null,n.turnRight(),n.startAutoAnimation()},this._mouseEnterHandler=function(){n.stopAutoAnimation()},this._mouseLeaveHandler=function(){n.startAutoAnimation()},this.realIdx=0,i.addClass("slide-show-ctn"),this._buildContainer(i),i=null,s&&this.startAutoAnimation()}var n=t("common:widget/ui/base/base"),h=t("common:widget/ui/EventEmitter/EventEmitter").eventCenter;n.extend(e.prototype,{_buildContainer:function(t){this.$slides=t,this.$el.append('<div class="mod-slide-show"><div class="cnt"></div></div>'),this.$cnt=this.$el.find("div.cnt"),this.$slideCnt=this.$el.find("div.mod-slide-show"),this.$cnt.width(this.slideWidth*this.slidesNum),this.autoTurning&&(this.$el.bind("mouseenter",this._mouseEnterHandler),this.$el.bind("mouseleave",this._mouseLeaveHandler)),t.appendTo(this.$cnt)},_moveSlide:function(t,i){var s={first:"prepend",last:"append"};this.$cnt[s[t]](i)},_moveFirstSlideToLast:function(){this._moveSlide("last",this.$cnt.children(":first")),this.curIdx--,this.$slideCnt[0].scrollLeft=this.slideWidth*this.curIdx},_moveLastSlideToFirst:function(){this._moveSlide("first",this.$cnt.children(":last")),this.curIdx++,this.$slideCnt[0].scrollLeft=this.slideWidth*this.curIdx},turnLeft:function(){if(this.isAnimating)return this;if(0==this.curIdx){if(!this.isCycle)return;this._moveLastSlideToFirst()}return this.slideWidth=this.isAutoWidth?this.$slides.eq(this.curIdx).width():this.slideWidth,this._animate("left"),this.curIdx--,this.realIdx--,this.realIdx<0&&(this.realIdx=this.slidesNum-1),h.trigger("slideMoved",{realIdx:this.realIdx}),this},turnRight:function(){var t;if(this.isAnimating)return this;if(this.curIdx==this.slidesNum-1){if(!this.isCycle)return;this._moveFirstSlideToLast()}return this.slideWidth=this.isAutoWidth?this.$slides.eq(this.curIdx+1).width():this.slideWidth,t=this._animate("right"),this.curIdx++,this.realIdx++,this.realIdx>=this.slidesNum&&(this.realIdx=0),h.trigger("slideMoved",{realIdx:this.realIdx}),this},_animate:function(t){var i={left:"-=",right:"+="};return this.isAnimating=!0,this.stopAutoAnimation(),this.$slideCnt.animate({scrollLeft:i[t]+this.slideWidth},this.duration,this._animationFinish)},setBtns:function(t,i){t.bind("click",this._leftBtnClickHandler),i.bind("click",this._rightBtnClickHandler)},startAutoAnimation:function(){this.autoTurning&&(this._timer||(this._timer=setTimeout(this._autoTurning,this.autoAnimateInterval)))},stopAutoAnimation:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},updateContentWidth:function(){return this.stopAutoAnimation(),this.isAnimating?void setTimeout(this.updateContentWidth.bind(this),this.duration):(this.slideWidth=this.$el.width(),this.$cnt.width(this.slideWidth*this.slidesNum),this.$slideCnt[0].scrollLeft=this.curIdx*this.slideWidth,void this.startAutoAnimation())}}),s.exports={init:function(t,i,s){var h,d,r,l,o=n(t),u=n(i),a={leftBtnSel:".slide-left-btn",rightBtnSel:".slide-right-btn",autoAnimate:!0,duration:800,isCycle:!0,isAutoWidth:!1};return!o.length||u.length<1?(l=new Function,{updateContentWidth:l,stopAutoAnimation:l,startAutoAnimation:l,setBtns:l,turnRight:l,turnLeft:l,addEventListener:l,removeEventListener:l}):(n.extend(a,s),h=n(a.leftBtnSel),d=n(a.rightBtnSel),r=new e(o,u,a.autoAnimate,{duration:a.duration,isCycle:a.isCycle,isAutoWidth:a.isAutoWidth}),h.length&&d.length&&r.setBtns(h,d),r)}}});
;define("common:widget/ui/statistic/statistic",function(e,t,o){{var n=e("common:widget/ui/base/base"),i=e("common:widget/ui/monitorRequest/monitorRequest"),s=(e("common:widget/ui/base/events"),e("common:widget/ui/utils/utils"));o.exports=function(){function e(e,t){var o=a+"4.gif",n={},i=t.p;return n.p=i,n.hostfr="imgstat",n.col=t.col,"object"==typeof t&&(n=s.jsonToQuery(t)),{host:o,query:n,isAsyn:!1}}function t(e,t){var o=a+"4.gif";return"undefined"==typeof t&&(t={}),"object"==typeof t&&(t=s.jsonToQuery(t)),{host:o,query:t,isAsyn:!1}}function o(e,t,o){if(null!=e)for(var n=e||window.event,s=n.srcElement||n.target;s.parentNode!==document.body&&s.tagName&&"a"!==s.tagName.toLowerCase();)s=s.parentNode;else var s=document.body;"undefined"==typeof o&&(o={});var a=r[t];if("undefined"!=typeof a){var u=a.apply(this,[s,o,n]),d=u.host,c=u.query,m=i(d+"?"+c);return m}}var a="//imgstat.baidu.com/",r=((new Date).getTime(),new Date,{10:e,1811103:t});return window.p=o,n(document).delegate("[data-nsclicks]","mousedown",function(){var e=n(this).attr("data-nsclicks");e=s.queryToJson(e),window.p(event,10,e)}),o}()}});
;define("common:widget/ui/suggest/data",function(t,e,a){function r(t){return t+Math.random()+t.length}var i=t("common:widget/ui/base/base"),n=t("common:widget/ui/utils/utils"),o=t("common:widget/ui/base/events"),u=function(t){t=t||{},this.urlPre=t.urlPre||n.ihttpsAgent("http://nssug.baidu.com"),this.getSam()<50};i.extend(u.prototype,o,{getSam:function(t){var e=0;if(t||(t=i.cookie("BAIDUID")||""),!t)return 0;t=t.replace(":FG=1","")+":FG=1";for(var a=0;a<t.length;a++)e=31*e+t.charCodeAt(a),e%=4294967296;var r=e%101;return r},getData:function(t){t=t||"",this._querySign=r(t),this._origin=t,this.doRequest(t)},doRequest:function(t){var e=this;if(t){var a=this._querySign;i.ajax(this.urlPre,{dataType:"jsonp",jsonp:"cb",data:{ie:"utf-8",wd:t,prod:"image",t:Math.random()}}).done(function(t){if(a===e._querySign){var r=e.formatData(t);r.length>0?e.trigger("data.ready",{data:r}):e.trigger("data.empty")}})}else this.trigger("data.empty")},formatData:function(t){for(var e=t.s,a=t.q,r=[],i=0,n=e.length;n>i;i++)r.push({text:e[i].replace(a,"<em>"+a+"</em>"),value:e[i]});return r}}),a.exports=u});
;define("common:widget/ui/suggest/inputwatcher",function(t,e,i){var n=t("common:widget/ui/base/base"),r=t("common:widget/ui/base/events"),u=function(t){this.$el=t.el,this.timer=null,this.duration=t.duration||31,this._currentValue=this._originValue=this.$el.val(),this._setupEvent()};n.extend(u.prototype,r,{_setupEvent:function(){var t=this,e=this.$el;e.keydown(function(e){var i=0;switch(e.keyCode){case 38:i="up",e.preventDefault();break;case 40:i="down",e.preventDefault();break;case 13:i="enter",e.preventDefault()}t.trigger("key."+i)}),e.focus(function(){t.start()}),e.blur(function(){t.stop(),t.trigger("blur")}),e.click(function(t){t.stopPropagation()})},start:function(){clearInterval(this.timer);var t=this,e=this.$el.val();return this.trigger("change",{value:e}),this.timer=setInterval(function(){t.check()},this.duration),this},stop:function(){return clearInterval(this.timer),this},check:function(){var t=this.$el.val();t!==this._currentValue&&(this._currentValue=this._originValue=t,this.trigger("change",{value:t}))},setValue:function(t){return this._currentValue=t,this.$el.val(t),this},getValue:function(){return this.$el.val()},getOriginValue:function(){return this._originValue}}),i.exports=u});
;define("common:widget/ui/suggest/suggestionlist",function(t,e,i){function n(){return"image-sug-no-"+u++}var s=t("common:widget/ui/base/base"),r=t("common:widget/ui/base/events"),h=window.doT,u=0,a='<li class="sug-item" data-index="{{=it.index}}" data-value="{{=it.value}}">{{=it.text}}</li>',d=10,o=function(t){t=t||{parentElement:document.body};var e=t.id||n();this.$el=s('<div style="display: none;" id="'+e+'" class="sug-wrap"></div>'),this.$innerEl=s('<ul class="sug-inner"></ul>').appendTo(this.$el),this.maxNumber=t.maxNumber||d;var i=t.tpl||a;this.dotFn=h.template(i),this._setupEvent(),this._visible=!1,this._currentIndex=-1,this._totalNum=0,this._data=[],this.$el.appendTo(t.parentElement||document.body)};s.extend(o.prototype,r,{_setupEvent:function(){var t=this;this.$innerEl.click(function(e){var i=s(e.target),n=i.data("value"),r=i.data("index");n&&(t._currentIndex=r,t.trigger("item.click",{value:n,index:r})),e.stopPropagation()}),this.$innerEl.on("mouseover","li",function(e){var i=s(e.target);i.is(".sug-hover")||t.focusIndex(i.data("index"))}),s(document).click(function(){t.hide()})},show:function(){return this._visible||(this.$el.show(),this._visible=!0),this},hide:function(){return this._visible&&(this.$el.hide(),this._visible=!1),this},render:function(t){var e=this.dotFn,i="";if(this._totalNum=0,this._currentIndex=-1,t&&t.length>0){var n=Math.min(t.length,this.maxNumber);this._totalNum=n;for(var s,r=0;n>r;r++)s=t[r],s.index=r,i+=e(t[r]);this._data=t}return this.$innerEl.html(i),i?this.show():(this.hide(),this._data=[]),this},focusIndex:function(t){return t=parseInt(t),isNaN(t)||t==this._currentIndex||this._totalNum<=0?this:(t>=this._totalNum?t=-1:-1>t&&(t=this._totalNum-1),this.$innerEl.children(".sug-hover").removeClass("sug-hover"),this.$innerEl.children('[data-index="'+t+'"]').addClass("sug-hover"),this._currentIndex=t,this)},forward:function(){return this.focusIndex(this._currentIndex+1),this.trigger("item.switch",{value:this.getSelectedValue()}),this},backward:function(){return this.focusIndex(this._currentIndex-1),this.trigger("item.switch",{value:this.getSelectedValue()}),this},getIndex:function(){return this._currentIndex},getSelectedValue:function(){var t=this._data[this._currentIndex];return t?t.value:""},clear:function(){return this.$el.hide(),this.$innerEl.empty(),this._currentIndex=-1,this._data=[],this},css:function(t){return this.$el.css(t),this}}),i.exports=o});
;define("common:widget/ui/suggest/suggestion",function(t){var i=t("common:widget/ui/base/base"),e=t("common:widget/ui/base/events"),n=t("common:widget/ui/suggest/data"),s=t("common:widget/ui/suggest/inputwatcher"),u=t("common:widget/ui/suggest/suggestionlist"),a=function(t){if(!t)throw new Error("Suggestion 构造函数必须传递input元素的DOM！");this.data=new n({urlPre:t.urlPre}),this.inputWatcher=new s({el:i(t.el)}),this.sugList=new u({maxNumber:t.maxNumber||10,id:t.id,tpl:t.tpl,parentElement:t.parentElement}),this.$form=i(t.formElement),this._setupEvent()};return i.extend(a.prototype,e,{_setupEvent:function(){var t=this;this.data.on("data.ready",function(i){t.sugList.render(i.data)}),this.data.on("data.empty",function(){t.sugList.render([])}),this.inputWatcher.on("key.up",function(){t.sugList.backward()}),this.inputWatcher.on("key.down",function(){t.sugList.forward()}),this.inputWatcher.on("key.enter",function(i){t.submit(i)}),this.inputWatcher.on("change",function(i){t.data.getData(i.value)}),this.sugList.on("item.click",function(i){t.inputWatcher.setValue(i.value),t.submit(i)}),this.sugList.on("item.switch",function(i){var e;e=i&&i.value?i.value:t.inputWatcher.getOriginValue(),t.inputWatcher.setValue(e)})},submit:function(){var t=this.$form[0],i=this.inputWatcher.getValue(),e=this.inputWatcher.getOriginValue(),n=this.sugList.getIndex();t.onsubmit&&t.onsubmit()===!1||(this.trigger("beforesubmit",{form:this.$form[0],value:i,originValue:e,index:n}),t.submit())},css:function(t){return this.sugList.css(t),this},show:function(){return this.sugList.show(),this},hide:function(){return this.sugList.hide(),this}}),a});
;define("common:widget/ui/sugHistory/sugHistory",function(t){function i(t){this.options=o.extend(n,t||{}),this.kw=o("#kw")[0],window.sugrecno=-1,this.pageName=this.options.page||"",this.pageQuery=this.options.query||"",this.sampleKey=this.options.samplekey||""}var o=t("common:widget/ui/base/base"),s=t("common:widget/ui/statistic/statistic"),n={container:'<div id="SugHistory" ><div id="SugRecBox"><div id="SugContent"></div><div class="sug-history-clean-box"><a href="javascript:void(0);" class="sug-history-clean" id="SugHistoryClean">清除历史记录</a></div></div></div>',historyKey:"indexPageSugList",cleanHistoryStatus:"cleanHistoryStatus",protocol:location.protocol,host:location.host,path:"/search/index",fm:"index",fr:"sughistory",urlParams:"tn=baiduimage&ipn=r&ct=201326592&cl=2&lm=-1&st=-1&sf=1&fmq=&pv=&ic=0&nc=1&z=&se=1&showtab=0&fb=0&width=&height=&face=0&istype=2&ie=utf-8"},e=!1;return o.extend(i.prototype,{init:function(t){this.renderList({data:t}),this.bindOnceEvent()},renderList:function(t){var i=o.extend({},t||{}),s=[];if(i.data)s=i.data;else{var n=i.historyKey||this.options.historyKey;s=o.cookie.get(n),s=s?JSON.parse(s):[]}var e=[];this.fomatData(s,e),0===o("#SugHistory").length&&o(document.body).append(this.options.container);this.sug=o("#SugHistory");for(var r=[],u=0,a=e.length;a>u;u++)r.push('<a class="sugline" data-name="sug" target="_blank" href="'+e[u].url+'" ><span class="sugs" >'+e[u].query+"</span></a>");o("#SugContent").html(r.join("")),this.bindSugEvent(),this.sug.hide()},fomatData:function(t,i){for(var o=t||[],s=this.options,n=0,e=o.length;e>n;n++){var r={};r.url=s.path+"?"+s.urlParams+"&fm="+s.fm+"&pos=history&word="+encodeURIComponent(o[n]),r.query=o[n],r.flag=o[n],i.push(r)}},overItem:function(t){o(t).addClass("sughover")},selectItem:function(){},keydown:function(t){if(!this.sug.is(":hidden")){var i=t.keyCode||t.which;if(13===i||38===i||40===i){var s=o(".sughover",this.sug),n=o(".sugline",this.sug),e=n.length;if(13===i){if(t.stopPropagation(t),t.preventDefault(t),s.length>0)return void setTimeout(function(){window.location.href=s[0].href},0)}else if(38===i)window.sugrecno--;else{if(40!==i)return;window.sugrecno++}this.kw.value="",window.sugrecno<0&&(window.sugrecno=0),window.sugrecno>e-1&&(window.sugrecno=e-1),s.length>0&&s.eq(0).removeClass("sughover"),this.overItem(o(".sugline",this.sug)[window.sugrecno])}}},enter:function(t){if(this.kw=t.target||t.srcElement,this.kw.value.length>0)this.sug&&this.close();else{var i=o.cookie.get(this.options.historyKey);if(i=i?JSON.parse(i):[],0===i.length)return this.sug.hide(),!1;this.render.call(this)}},render:function(){if(1===parseInt(o.cookie.get(this.options.cleanHistoryStatus),10))return!1;"none"===this.sug.css("display")&&s&&s(null,1811103,{p:this.pageName,q:this.pageQuery,samplekey:this.sampleKey}),e||this.renderList(),e=!1;var t=o(this.kw).offset(),i=this.options.offsetL||8,n=this.options.offsetT||4,r=this.options.width||453;this.sug.css("left",t.left-i+"px"),this.sug.css("top",t.top+this.kw.clientHeight+n+(o.browser.ie?-2:0)+"px"),this.sug.width(r),this.sug.show()},close:function(){this.sug.hide(),window.sugrecno=-1},blur:function(){},bindOnceEvent:function(){{var t=this,i=o("#SugHistory");o("#sttb")}i.on("click",function(t){t.stopPropagation()}),o("#kw").on("mousedown",function(i){t.enter(i)}).on("keyup",function(i){t.enter(i)}).on("keydown",function(i){e=!0,t.keydown(i)}).parent().on("click",function(t){t.stopPropagation()});var s=o("#kw3");s.length>0&&s.on("mousedown",function(i){t.enter(i)}).on("keyup",function(i){t.enter(i)}).on("keydown",function(i){e=!0,t.keydown(i)}).parent().on("click",function(t){t.stopPropagation(t)}),o(document.body).on("click",function(i){t.close(i)}),o(window).on("scroll",function(i){t.close(i)})},bindSugEvent:function(){{var t=this;o(".sugline",this.sug).on("mouseout",function(){o(this).removeClass("sughover"),window.sugrecno=-1}).on("mouseover",function(){o(this).addClass("sughover"),window.sugrecno=0})}o("#SugHistoryClean").on("click",function(i){o.cookie.set(t.options.cleanHistoryStatus,1,{path:"/"}),t.cleanHistory(),t.close(i)})},cleanHistory:function(){return o.cookie.set(this.options.historyKey,JSON.stringify([]),{path:"/"}),!0}}),i});
;define("common:widget/ui/SugRec/SugRec",function(o){function e(o){this.options=i.extend(t,o||{}),this.kw=i("#kw")[0],1==i.cookie("HideSugRecommend")&&(this.options.display=!1);window.sugrecno=-1,this.pageName=this.options.page||"",this.pageQuery=this.options.query||"",this.sampleKey=this.options.samplekey||""}var i=o("common:widget/ui/base/base"),s=o("common:widget/ui/statistic/statistic"),t={container:'<div id="SugRecommend" ><div id="SugRecBox"><a class="sugTitle" id="hotwordlistinA" ></a><div id="SugContent"></div><a id="SugRecClose"></a></div></div>',display:!0};return i.extend(e.prototype,{init:function(o){var e=o||null,s=[];if(0!=e.length){e&&this.fomatData(o,s),i(document.body).append(this.options.container);var t=i("#sttb");t.after('<a class="sttb SugRecDisplay" title="点击查看热搜词" id="SugRecDisplay"><div id="SugRecShow"><div class="tips">想再次查看，请点击这里</div><div class="arrow" ></div></div></a>');var n=this;this.sug=i("#SugRecommend");var c=[];for(var u in s)c.push('<a class="sugline" data-name="sug" target="_blank" href="'+s[u].href+'" ><span class="no '+(3>u?"hot":"")+'" >'+(1*u+1)+'</span><span class="sugs" >'+s[u].text+"</span></a>");i("#SugContent").append(c.join("")),this._bindEvent(),0==this.options.display&&n.cookieHide(),this.sug.hide()}},fomatData:function(o,e){var i=o||{};for(var s in i)i[s].url&&(i[s].url=i[s].url.replace(/word=[^&]+/g,"word="+encodeURIComponent(i[s].query))),e.push({href:i[s].url.replace(/&fr=sugrec&[.*]+/g,"")+"&fr=sugrec&pos=history",text:i[s].flag||i[s].query})},overItem:function(o){i(o).addClass("sughover")},selectItem:function(){},keydown:function(o){if(!this.sug.is(":hidden")){var e=o.keyCode||o.which;if(13==e||38==e||40==e){var s=i(".sughover",this.sug);if(13==e){if(o.stopPropagation(o),o.preventDefault(o),s.length>0)return void setTimeout(function(){window.location.href=s[0].href},0)}else if(38==e)window.sugrecno--;else{if(40!=e)return;window.sugrecno++}this.kw.value="",window.sugrecno<0&&(window.sugrecno=0),window.sugrecno>9&&(window.sugrecno=9),s.length>0&&s.eq(0).removeClass("sughover"),this.overItem(i(".sugline",this.sug)[window.sugrecno])}}},enter:function(o){this.kw=o.target||o.srcElement,this.kw.value.length>0?this.sug&&this.close():this.render.call(this)},render:function(){"none"===this.sug.css("display")&&s&&s(null,1811103,{p:this.pageName,q:this.pageQuery,samplekey:this.sampleKey});var o=i(this.kw).offset(),e=this.options.offsetL||8,t=this.options.offsetT||4,n=this.options.width||453;this.sug.css("left",o.left-e+"px"),this.sug.css("top",o.top+this.kw.clientHeight+t+(i.browser.ie?-2:0)+"px"),this.sug.width(n),this.options.display&&this.sug.show()},close:function(){this.sug.hide(),window.sugrecno=-1},blur:function(){},cookieHide:function(o){this.options.display=!1,i.cookie("HideSugRecommend",1,{expires:7776e3}),i("#SugRecDisplay").css("display","block"),window.sugrecno=-1,o&&(i("#SugRecShow").css("display","block"),setTimeout(function(){i("#SugRecShow").css("display","none")},2300)),i("#sttb").addClass("sttbleft")},cookieShow:function(o){this.options.display=!0,i.cookie("HideSugRecommend",0,{expires:7776e3}),o&&o.stopPropagation(),this.kw.focus(),this.sug&&(this.render(),i("#SugRecommend").css("display","block")),i("#SugRecDisplay").css("display","none"),i("#sttb").removeClass("sttbleft")},_bindEvent:function(){{var o=this,e=i("#SugRecommend");i("#sttb")}i("#SugRecClose").on("click",function(e){o.close(e),o.cookieHide(!0)}),i("#SugRecDisplay").on("click",function(e){o.cookieShow(e)}),e.on("click",function(o){o.stopPropagation()}),i("#kw").on("mousedown",function(e){o.enter(e)}).on("keyup",function(e){o.enter(e)}).on("keydown",function(e){o.keydown(e)}).parent().on("click",function(o){o.stopPropagation()});var s=i("#kw3");s.length>0&&s.on("mousedown",function(e){o.enter(e)}).on("keyup",function(e){o.enter(e)}).on("keydown",function(e){o.keydown(e)}).parent().on("click",function(o){o.stopPropagation(o)}),i(document.body).on("click",function(e){o.close(e)}),i(window).on("scroll",function(e){o.close(e)});i(".sugline",this.sug).on("mouseout",function(){i(this).removeClass("sughover"),window.sugrecno=-1}).on("mouseover",function(){i(this).addClass("sughover"),window.sugrecno=0})}}),e});
;define("common:widget/ui/swf/swf",function(){var e,r=e=r||{version:"1.5.2.2"};return r.guid="$BAIDU$",r.$$=window[r.guid]=window[r.guid]||{global:{}},r.dom=r.dom||{},r.dom.g=function(e){return e?"string"==typeof e||e instanceof String?document.getElementById(e):!e.nodeName||1!=e.nodeType&&9!=e.nodeType?null:e:null},r.g=r.G=r.dom.g,r.browser=r.browser||{},r.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,r.dom.insertHTML=function(e,n,t){e=r.dom.g(e);var o,a;return e.insertAdjacentHTML&&!r.browser.opera?e.insertAdjacentHTML(n,t):(o=e.ownerDocument.createRange(),n=n.toUpperCase(),"AFTERBEGIN"==n||"BEFOREEND"==n?(o.selectNodeContents(e),o.collapse("AFTERBEGIN"==n)):(a="BEFOREBEGIN"==n,o[a?"setStartBefore":"setEndAfter"](e),o.collapse(a)),o.insertNode(o.createContextualFragment(t))),e},r.insertHTML=r.dom.insertHTML,r.swf=r.swf||{},r.swf.version=function(){var e=navigator;if(e.plugins&&e.mimeTypes.length){var r=e.plugins["Shockwave Flash"];if(r&&r.description)return r.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}else if(window.ActiveXObject&&!window.opera)for(var n=12;n>=2;n--)try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);if(t){var o=t.GetVariable("$version");return o.replace(/WIN/g,"").replace(/,/g,".")}}catch(a){}}(),r.string=r.string||{},r.string.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},r.encodeHTML=r.string.encodeHTML,r.browser.ie=r.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,r.lang=r.lang||{},r.array=r.array||{},r.array.remove=function(e,r){for(var n=e.length;n--;)n in e&&e[n]===r&&e.splice(n,1);return e},r.lang.toArray=function(e){if(null===e||void 0===e)return[];if(r.lang.isArray(e))return e;if("number"!=typeof e.length||"string"==typeof e||r.lang.isFunction(e))return[e];if(e.item){for(var n=e.length,t=new Array(n);n--;)t[n]=e[n];return t}return[].slice.call(e)},r.swf.getMovie=function(e){var n,t=document[e];return 9==r.browser.ie?t&&t.length?1==(n=r.array.remove(r.lang.toArray(t),function(e){return"embed"!=e.tagName.toLowerCase()})).length?n[0]:n:t:t||window[e]},r.swf.createHTML=function(e){e=e||{};var n,t,o,a,i,s,l=r.swf.version,c=e.ver||"6.0.0",d={},g=r.string.encodeHTML;for(a in e)d[a]=e[a];if(e=d,!l)return"";for(l=l.split("."),c=c.split("."),o=0;3>o&&(n=parseInt(l[o],10),t=parseInt(c[o],10),!(n>t));o++)if(t>n)return"";var u=e.vars,f=["classid","codebase","id","width","height","align"];if(e.align=e.align||"middle",e.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",e.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",e.movie=e.url||"",delete e.vars,delete e.url,"string"==typeof u)e.flashvars=u;else{var p=[];for(a in u)s=u[a],p.push(a+"="+encodeURIComponent(s));e.flashvars=p.join("&")}var v=["<object "];for(o=0,i=f.length;i>o;o++)s=f[o],v.push(" ",s,'="',g(e[s]),'"');v.push(">");var m={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(a in e)s=e[a],a=a.toLowerCase(),m[a]&&(s||s===!1||0===s)&&v.push('<param name="'+a+'" value="'+g(s)+'" />');e.src=e.movie,e.name=e.id,delete e.id,delete e.movie,delete e.classid,delete e.codebase,e.type="application/x-shockwave-flash",e.pluginspage="http://www.macromedia.com/go/getflashplayer",v.push("<embed");var w;for(a in e)if(s=e[a],s||s===!1||0===s){if(new RegExp("^salign$","i").test(a)){w=s;continue}v.push(" ",a,'="',g(s),'"')}return w&&v.push(' salign="',g(w),'"'),v.push("></embed></object>"),v.join("")},r.swf.create=function(e,n){e=e||{};var t=r.swf.createHTML(e)||e.errorMessage||"";n&&"string"==typeof n&&(n=document.getElementById(n)),r.dom.insertHTML(n||document.body,"beforeEnd",t)},e.undope=!0,r.swf});
;define("common:widget/ui/userInfo/userInfo",function(e){function a(e){this.id=e||"userInfo",this.userid="",this.usersign="",this.href=location.href,this.index="https://www.baidu.com",this.passport="http://passport.baidu.com",this.login=this.passport+"/v2/?login&authsite=1&tpl=im&u="+encodeURIComponent(this.href),this.reg=this.passport+"/v2/?reg&regType=1&tpl=im&u="+encodeURIComponent(this.href),this.exit=this.passport+"/?logout&u="+encodeURIComponent(this.href),this.loc=this.href,this.linktpl='<a data-sargs="etc=bdindex" href="{{url}}">{{name}}</a><span class="nav-pipe">|</span>';var a=i.queryToJson(location.search);/search\/index/.test(this.href)&&(this.loc="/search/flip?"+i.jsonToQuery({tn:a.tn,ie:a.ie,word:a.word,gsm:a.gsm,ct:a.ct,v:"flip"}),this.url=this.linktpl.replace(/{{name}}/,"传统翻页版本").replace(/{{url}}/,this.loc)),/search\/flip/.test(this.href)&&(this.loc="/search/index?"+i.jsonToQuery({tn:a.tn,ie:a.ie,word:a.word,gsm:a.gsm,ct:a.ct,v:"index"}),this.url=this.linktpl.replace(/{{name}}/,"瀑布流版本").replace(/{{url}}/,this.loc)),this.timer=null,this.$container=s("#"+this.id),this.logoStyle=""}var s=e("common:widget/ui/base/base"),t=e("common:widget/ui/searchUtils/searchUtils"),n=e("common:widget/ui/base/events"),i=e("common:widget/ui/utils/utils");return s.extend(a.prototype,n,{init:function(e){var a=this;s.ajax({url:"/user/logininfo?src=pc&page=searchresult&time="+(new Date).getTime(),type:"GET",dataType:"json"}).done(function(s){if(0==s.status.code){e&&e(s);var t=s.data.user;if(a.userid=t.user_name,a.logo=t.src,a.usersign=t.user_sign,a.hasUsername=0==t.fdi_userNameMode,a.logo&&"0"!==a.logo&&(a.logoStyle="padding:0 0 1px 17px; background:url( "+i.ihttpsAgent("http://passport.bdimg.com")+"/passApi/img/icon_"+a.logo+"_16.png) no-repeat 0 0;"),!a.$container)return;var n=a.hasUsername?"http://i.baidu.com/?from=image":"https://passport.baidu.com/v2/?ucenteradduname";""===a.userid?a.$container.html(a.url+'<a data-sargs="etc=bdindex" href='+a.index+'>百度首页</a><span class="nav-pipe">|</span><a data-sargs="etc=login" id="passLog" href='+a.login+'>登录</a><span class="nav-pipe">|</span><a data-sargs="etc=reg" id="passReg" class="last" href='+a.reg+">注册</a>"):""!=a.userid&&a.$container.html(a.url+'<a data-sargs="etc=bdindex" class="last_left" href='+a.index+' >百度首页</a><span class="nav-pipe">|</span><a data-sargs="etc=xc" href="http://image.baidu.com/albumlist/'+a.usersign+'" target=_blank>我的图片</a><span class="nav-pipe">|</span><a data-sargs="etc=userinfo" target="_blank" id="username_info" href="'+n+'"><strong style="'+a.logoStyle+'">'+a.userid+'</strong></a><div id="username_menu" class="username_menu" style="right: 20px; display: none;"><a data-sargs="etc=home" target="_blank" href="'+n+'">个人中心</a><a data-sargs="etc=passport" target="_blank" href="http://passport.baidu.com/center">帐号设置</a><a data-sargs="etc=logout" id="passLogout" class="user_exit" href="'+a.exit+'" style="overflow:hidden">退出</a><div class="username_arrow_in"></div><div class="username_arrow_out"></div></div>')}else a.$container.html(a.url+'<a data-sargs="etc=bdindex" href='+a.index+'>百度首页</a><span class="nav-pipe">|</span><a data-sargs="etc=login" id="passLog" href='+a.login+'>登录</a><span class="nav-pipe">|</span><a data-sargs="etc=reg" id="passReg" class="last" href='+a.reg+">注册</a>")}).fail(function(){a.userid="",a.$container.html(a.url+'<a data-sargs="etc=bdindex" href='+a.index+'>百度首页</a><span class="nav-pipe">|</span><a data-sargs="etc=login" id="passLog" href='+a.login+'>登录</a><span class="nav-pipe">|</span><a data-sargs="etc=reg" id="passReg" class="last" href='+a.reg+">注册</a>")}).always(function(){setTimeout(function(){{var e=s("a[data-sargs]",a.$container);e.length}e.on("mousedown",function(e){var s=e||window.event,n=(a.name,t.query2Json(this.getAttribute("data-sargs")));p(s,55,n)});var n=s("#username_menu"),i=s("#username_info");n&&i&&(a.toggleMenu(i,n,"mouseenter","block"),a.toggleMenu(n,n,"mouseenter","block"),a.toggleMenu(i,n,"mouseleave","none"),a.toggleMenu(n,n,"mouseleave","none"))},1e3),s.getScript("//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){var e=s("#passLog");if(e){e.attr("href","javascript:void(0);");var t={tangram:!0,cache:!1,apiOpt:{product:"im",staticPage:location.protocol+"//"+location.host+"/static/searchresult/html/v3Jump.html",memberPass:!0,u:location.href,qrcode:3},authsite:["tsina","renren","qzone"],authsiteCfg:{tpl:"im",display:"popup",act:"optional",jumpUrl:location.protocol+"//"+location.host+"/static/imgsearch/html/xd.html",onBindSuccess:function(){return location.reload(),!0}},onLoginSuccess:function(e){e.returnValue=!1,location.reload()},onShow:function(){a.trigger("loginPop.show")},onHide:function(){a.trigger("loginPop.hide")}},n=passport.pop.init(t);n&&e.on("click",function(){return n.show(),!1})}})})},toggleMenu:function(e,a,s,t){e.on(s,function(){timer=setTimeout(function(){a[0].style.display=t},500)})}}),a});