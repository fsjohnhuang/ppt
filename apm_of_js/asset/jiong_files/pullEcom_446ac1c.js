define("common:widget/ui/admanager/pullEcom/pullEcom",function(t){function a(t,a){this.$el=e(a),this.pageModel=t}var e=t("common:widget/ui/base/base"),i=t("common:widget/ui/admanager/ad/ad");return e.extend(a,i,{_clickHandler:function(t){this.doAction(t)},init:function(){this.$el.bind("click",this._clickHandler),this.addImg()},doAction:function(t){e(t.target)},addImg:function(){var t,a,i,d,n;try{n=ecom.ma.image.TopBackground,t=n.getPrimaryBack(),a=n.getSecondaryBack(),d=parseInt(n.getSecondaryHeight())||0,i=parseInt(n.getPrimaryHeight())||0}catch(r){return}if(t&&!(1>i)){var c=e("<div></div>");if(c.addClass("ma-primary-bg"),c.css({background:t,height:i}),c.appendTo(e("body")),a&&d>0){var s=e("<div></div>");s.addClass("ma-repeat-bg"),s.css({height:d,background:a}),s.appendTo(e("body"))}var o,g;this.addEventListener("stratrgy",function(t){if(t&&t.state&&"resize"===t.state.type){var a=t.state.currentViewWidth||0;a>0&&a!==o&&(o=a,c&&c.css({width:o}),s&&s.css({width:o}));try{if(t&&t.state&&("resize"===t.state.type||"ini"===t.state.type)){var e=t.state.currImgLineWidth||0;e>0&&e!==g&&(g=e,n.updataEcomBackground&&n.updataEcomBackground({bgDiv:c,repeatDOM:s,currImgLineWidth:g,state:t.state}))}}catch(i){}}})}}}),a});